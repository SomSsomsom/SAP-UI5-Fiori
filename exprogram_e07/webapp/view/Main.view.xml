<mvc:View controllerName="exprograme07.controller.Main"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:l="sap.ui.layout"
    xmlns:core="sap.ui.core"
    xmlns:t="sap.ui.table"
    xmlns="sap.m"
    displayBlock="true">
    <Page id="page" title="{i18n>title}">
        <content>
            <FlexBox alignItems="Start" justifyContent="Start">
                <l:VerticalLayout width="100%">
                    <VBox width="100%" class="sapUiSmallMargin">
                        <Label text="Currency Code" />
                        <ComboBox
                            id="idCurrcode"
                            showSecondaryValues="true"
                            items="{
                                path: 'currList>/list',
                                templateShareable: true
                            }"
                            width="14rem">
                            <core:ListItem key="{currList>code}" text="{currList>code}" />
                        </ComboBox>

                        <Label text="Carrier Name" />
                        <Input id="idCarrname" submit="onSubmit" width="14rem" />
                        <Button text="Search" press="onButtonPress" type="Emphasized" width="90%" />
                    </VBox>
                </l:VerticalLayout>


                <Table id="idTable" inset="false"
                    items="{
                        path: '/carrierSet',
                        parameters: {
                            'expand': 'to_Item'
                        }
                    }">
                    <headerToolbar>
                        <Toolbar>
                            <Title id="title" text="Carrier List" />
                        </Toolbar>
                    </headerToolbar>
                    <columns>
                        <Column>
                            <Text text="Carrid" />
                        </Column>
                        <Column>
                            <Text text="Carrname" />
                        </Column>
                        <Column>
                            <Text text="Currcode" />
                        </Column>
                        <Column>
                            <Text text="Url" />
                        </Column>
                        <Column>
                            <Text text="Length" />
                        </Column>
                        <Column>
                            <Text text="Detail" />
                        </Column>
                    </columns>
                    <items>
                        <ColumnListItem>
                            <cells>
                                <Text text="{Carrid}" />
                                <Text text="{Carrname}" />
                                <Text text="{Currcode}" />
                                <Text text="{Url}" />
                                <Text text="{= ${to_Item} ? ${to_Item}.length : ''}" />

                                <Button text="예약 현황"
                                    enabled="{= ${to_Item}.length !== 0 ? true : false}"
                                    press="onResButtonPress" />

                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>
            </FlexBox>
        </content>
    </Page>
</mvc:View>